file:///C:/Users/leo11/OneDrive/Desktop/HTWG/AIN/Semester%203/Software-Engineering/ProjektMemory/src/test/scala/aview/TuiSpec.scala
### java.lang.IndexOutOfBoundsException: 7179

occurred in the presentation compiler.

presentation compiler configuration:
Scala version: 2.13.12
Classpath:
<WORKSPACE>\.bloop\projektmemory\bloop-bsp-clients-classes\test-classes-Metals-gUUEC4WWR2KGkrnGuHD0BA== [exists ], <HOME>\AppData\Local\bloop\cache\semanticdb\com.sourcegraph.semanticdb-javac.0.9.10\semanticdb-javac-0.9.10.jar [exists ], <WORKSPACE>\.bloop\projektmemory\bloop-bsp-clients-classes\classes-Metals-gUUEC4WWR2KGkrnGuHD0BA== [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scala-lang\scala-library\2.13.12\scala-library-2.13.12.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest_2.13\3.2.18\scalatest_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalamock\scalamock_2.13\5.1.0\scalamock_2.13-5.1.0.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalafx\scalafx_2.13\20.0.0-R31\scalafx_2.13-20.0.0-R31.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scala-lang\modules\scala-swing_2.13\3.0.0\scala-swing_2.13-3.0.0.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\inject\guice\6.0.0\guice-6.0.0.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-core_2.13\3.2.18\scalatest-core_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-featurespec_2.13\3.2.18\scalatest-featurespec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-flatspec_2.13\3.2.18\scalatest-flatspec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-freespec_2.13\3.2.18\scalatest-freespec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-funsuite_2.13\3.2.18\scalatest-funsuite_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-funspec_2.13\3.2.18\scalatest-funspec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-propspec_2.13\3.2.18\scalatest-propspec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-refspec_2.13\3.2.18\scalatest-refspec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-wordspec_2.13\3.2.18\scalatest-wordspec_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-diagrams_2.13\3.2.18\scalatest-diagrams_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-matchers-core_2.13\3.2.18\scalatest-matchers-core_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-shouldmatchers_2.13\3.2.18\scalatest-shouldmatchers_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-mustmatchers_2.13\3.2.18\scalatest-mustmatchers_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scala-lang\scala-reflect\2.13.12\scala-reflect-2.13.12.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-base\20\javafx-base-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-controls\20\javafx-controls-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-fxml\20\javafx-fxml-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-graphics\20\javafx-graphics-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-media\20\javafx-media-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-swing\20\javafx-swing-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-web\20\javafx-web-20.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\javax\inject\javax.inject\1\javax.inject-1.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\jakarta\inject\jakarta.inject-api\2.0.1\jakarta.inject-api-2.0.1.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\aopalliance\aopalliance\1.0\aopalliance-1.0.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\guava\guava\31.0.1-jre\guava-31.0.1-jre.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalatest\scalatest-compatible\3.2.18\scalatest-compatible-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scalactic\scalactic_2.13\3.2.18\scalactic_2.13-3.2.18.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\scala-lang\modules\scala-xml_2.13\2.1.0\scala-xml_2.13-2.1.0.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-base\20\javafx-base-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-controls\20\javafx-controls-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-fxml\20\javafx-fxml-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-graphics\20\javafx-graphics-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-media\20\javafx-media-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-swing\20\javafx-swing-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\openjfx\javafx-web\20\javafx-web-20-win.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\guava\failureaccess\1.0.1\failureaccess-1.0.1.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\guava\listenablefuture\9999.0-empty-to-avoid-conflict-with-guava\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\org\checkerframework\checker-qual\3.12.0\checker-qual-3.12.0.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\errorprone\error_prone_annotations\2.7.1\error_prone_annotations-2.7.1.jar [exists ], <HOME>\AppData\Local\Coursier\cache\v1\https\repo1.maven.org\maven2\com\google\j2objc\j2objc-annotations\1.3\j2objc-annotations-1.3.jar [exists ]
Options:
-Yrangepos -Xplugin-require:semanticdb


action parameters:
offset: 7169
uri: file:///C:/Users/leo11/OneDrive/Desktop/HTWG/AIN/Semester%203/Software-Engineering/ProjektMemory/src/test/scala/aview/TuiSpec.scala
text:
```scala
/*package model
import org.scalatest.wordspec.AnyWordSpec
import org.scalatest.matchers.should.Matchers
import org.scalamock.scalatest.MockFactory
import java.io.{ByteArrayOutputStream, PrintStream}
import util.{InputHandler, RealInputHandler}*/

/*
class TuiSpec extends AnyWordSpec with Matchers with MockFactory {

  "A Tui" when {
    "update is called" should {
      "print that the game state has been updated" in {
        val controller = mock[Controller]
        (controller.add _).expects(*).once() //for any kind of update?

        val tui = new Tui(controller)
        val stream = new ByteArrayOutputStream()
        Console.withOut(new PrintStream(stream)) {
          tui.update
        }
        stream.toString should include("The game state has been updated.")
      }
    }

    "run is called" should {
      "handle exceptions by printing them" in {
        val controller = stub[Controller]
        (controller.add _).when(*) // any kind

        val exceptionMessage = "An error occurred"
        (controller.GameStarting _).when().throws(new RuntimeException(exceptionMessage))
        
        val tui = new Tui(controller)
        val stream = new ByteArrayOutputStream()
        Console.withOut(new PrintStream(stream)) {
          tui.run()
        }
        stream.toString should include(exceptionMessage)
      }

      "execute GameStarting without any exceptions" in {
        val controller = mock[Controller]
        (controller.add _).expects(*).once() // any
        (controller.GameStarting _).expects().once()

        val tui = new Tui(controller)
        noException should be thrownBy tui.run()
      }
    }

    "displayMessage is called" should {
      "print the provided message" in {
        val controller = mock[Controller]
        (controller.add _).expects(*).once() 

        val tui = new Tui(controller)
        val message = "Test message"
        val stream = new ByteArrayOutputStream()
        Console.withOut(new PrintStream(stream)) {
          tui.displayMessage(message)
        }
        stream.toString should include(message)
      }
    }
  
     "invoke GameStarting at the beginning" in {
      val controller = mock[Controller]
      val gameLogic = mock[Logic]

      // Assuming that gameLogic is a public mutable field
      controller.gameLogic = gameLogic // Directly assign mocked Logic instance
      
      (controller.add _).expects(*).once()
      (controller.GameStarting _).expects().once()
      (gameLogic.checkGameEnd _).expects().returning(false)

      val tui = new Tui(controller)
      tui.run()
    }

      /*"check if the game has ended and handle true correctly" in {
        val controller = mock[Controller]
        val gameLogic = mock[Logic]

        (controller.gameLogic _).expects().returning(gameLogic).anyNumberOfTimes()
        (gameLogic.checkGameEnd _).expects().returning(true).once()  // Expect this to be true

        val tui = new Tui(controller)
        val stream = new ByteArrayOutputStream()
        Console.withOut(new PrintStream(stream)) {
          tui.run()  // This should trigger the checkGameEnd logic
        }
        assert(stream.toString.contains("The game has ended."))
      }
    }


 "terminate the application" in {
    val originalSecurityManager = System.getSecurityManager // Save the original security manager
    System.setSecurityManager(new NoExitSecurityManager()) // Set the custom security manager

    val controller = mock[Controller]
    (controller.add _).expects(*).once()  // Expecting the add call

    val tui = new Tui(controller) // Creates an instance of Tui which calls controller.add
    val quitGameCommand = new tui.QuitGameCommand()

    val stream = new ByteArrayOutputStream()
    try {
      Console.withOut(new PrintStream(stream)) {
        intercept[SecurityException] {
          quitGameCommand.execute()
        }
      }
      stream.toString should include("Game exiting")
    } finally {
      System.setSecurityManager(originalSecurityManager) // Restore the original security manager
    }
  }

  "RestartGameCommand is executed" should {
    "restart the game" in {
      val controller = mock[Controller]
      (controller.add _).expects(*).once()  // Expecting the add call
      (controller.GameStarting _).expects().once()  // Expecting GameStarting to be called

      val tui = new Tui(controller) // Creates an instance of Tui which calls controller.add
      val restartGameCommand = new tui.RestartGameCommand(controller)

      val stream = new ByteArrayOutputStream()
      Console.withOut(new PrintStream(stream)) {
        restartGameCommand.execute()
      }
      stream.toString should include("Game is starting again")
    }
  }

     "endGamePrompt is called" should {
      "execute restart command when 'restart' is input" in {
        val controller = stub[Controller]
        val tui = new Tui(controller)
        val inputHandler = stub[InputHandler]
        tui.inputHandler = inputHandler
        
        (inputHandler.readLine _).when().returns("restart")
        (controller.GameStarting _).when()

        val stream = new ByteArrayOutputStream()
        Console.withOut(new PrintStream(stream)) {
          tui.endGamePrompt()
        }
        stream.toString should include("Game is starting again")
      }

      "execute quit command when 'quit' is input" in {
  val originalSecurityManager = System.getSecurityManager
  System.setSecurityManager(new NoExitSecurityManager())

  val controller = stub[Controller]
  val tui = new Tui(controller)
  val inputHandler = stub[InputHandler]
  tui.inputHandler = inputHandler
  
  (inputHandler.readLine _).when().returns("quit")
  
  val stream = new ByteArrayOutputStream()
  try {
    Console.withOut(new PrintStream(stream)) {
      intercept[SecurityException] {
        tui.endGamePrompt()
      }
    }
    stream.toString should include("Game exiting")
  } finally {
    System.setSecurityManager(originalSecurityManager)
  }
}

      "prompt again when an unknown command is input" in {
  val originalSecurityManager = System.getSecurityManager
  System.setSecurityManager(new NoExitSecurityManager())

  val controller = stub[Controller]
  val tui = new Tui(controller)
  val inputHandler = stub[InputHandler]
  tui.inputHandler = inputHandler
  
  (inputHandler.readLine _).when().returns("unknown")
  //(inputHandler.readLine _).when().returns("quit")

  val stream = new ByteArrayOutputStream()
        Console.withOut(new PrintStream(stream)) {
          tui.endGamePrompt()
    }
    stream.toString should include("Unknown Command pls type either 'quit' or 'restart'.")
    //stream.toString should include("Game exiting")
  
}
  }
}
class NoExitSecurityManager extends SecurityManager {
  override def checkPermission(perm: java.security.Permission): Unit = {
    if ("exitVM.0".equals(perm.getName)) {
      throw new SecurityException("System.exit attempted and blocked")
    }
  }
}*/
}*@@/
```



#### Error stacktrace:

```
scala.reflect.internal.util.BatchSourceFile.offsetToLine(SourceFile.scala:201)
	scala.meta.internal.pc.MetalsGlobal$XtensionPositionMetals.toPos(MetalsGlobal.scala:725)
	scala.meta.internal.pc.MetalsGlobal$XtensionPositionMetals.toLsp(MetalsGlobal.scala:738)
	scala.meta.internal.pc.AutoImportsProvider.scala$meta$internal$pc$AutoImportsProvider$$namePos$1(AutoImportsProvider.scala:55)
	scala.meta.internal.pc.AutoImportsProvider$$anonfun$autoImports$3.applyOrElse(AutoImportsProvider.scala:79)
	scala.meta.internal.pc.AutoImportsProvider$$anonfun$autoImports$3.applyOrElse(AutoImportsProvider.scala:60)
	scala.collection.immutable.List.collect(List.scala:267)
	scala.meta.internal.pc.AutoImportsProvider.autoImports(AutoImportsProvider.scala:60)
	scala.meta.internal.pc.ScalaPresentationCompiler.$anonfun$autoImports$1(ScalaPresentationCompiler.scala:299)
```
#### Short summary: 

java.lang.IndexOutOfBoundsException: 7179